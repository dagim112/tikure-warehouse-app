<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tikure Warehouse App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <!-- Sidebar -->
    <aside class="sidebar">
      <h1 class="brand">Tikure Warehouse</h1>

      <nav>
        <button class="nav-btn active" data-view="home">Home dashboard</button>
        <button class="nav-btn" data-view="users">User management</button>
        <button class="nav-btn" data-view="stores">Store management</button>
        <button class="nav-btn" data-view="inbound">Inbound</button>
        <button class="nav-btn" data-view="outbound">Outbound</button>
        <button class="nav-btn" data-view="sell">Sell & receipt</button>
        <button class="nav-btn" data-view="receipt">Receipt</button>
        <button class="nav-btn" data-view="storeView">Store table</button>
      </nav>

      <!-- Current user + controls -->
      <div class="user-area">
        <div class="current-user">Current user: <span id="currentUserName">Admin</span></div>
        <div class="user-controls">
          <button id="switchUserBtn">Switch user</button>
          <button id="logoutBtn">Logout</button>
        </div>
      </div>

      <!-- User management quick list -->
      <div class="user-management">
        <h3>Users</h3>
        <div id="userList" class="small-list">
          <!-- Filled by JS -->
        </div>
        <button id="addUserQuickBtn">Add user</button>
      </div>

      <!-- Print area with 3 printing modes -->
      <div class="print-area">
        <button class="big-print" id="openPrintMenuBtn">Print options</button>
        <div class="print-dropdown hidden" id="printDropdown">
          <button data-print-mode="itemBarcodes">Item barcode labels</button>
          <button data-print-mode="locationBarcodes">Location barcode labels</button>
          <button data-print-mode="packingList">Packing list</button>
        </div>
      </div>

      <!-- Store quick controls -->
      <div class="store-management">
        <h3>Quick store search</h3>
        <input type="text" id="quickStoreSearch" placeholder="Search store or product">
        <div class="row">
          <button id="refreshStoresBtn">Refresh</button>
          <button id="newStoreBtn">New store</button>
        </div>
      </div>
    </aside>

    <!-- Main content -->
    <main class="main">
      <!-- HOME VIEW -->
      <section id="view-home" class="view active">
        <h2>Dashboard</h2>

        <div class="controls-row">
          <div class="small-panel">
            <h3>Active store</h3>
            <select id="dashboardStoreSelect"></select>
          </div>
        </div>

        <div class="home-grid big-buttons">
          <button class="big-btn store-btn variant-3" data-view="inbound">Inbound scan</button>
          <button class="big-btn store-btn variant-6" data-view="outbound">Outbound scan</button>
          <button class="big-btn store-btn variant-5" data-view="sell">Sell & receipt</button>
          <button class="big-btn store-btn variant-1" data-view="users">Users</button>
          <button class="big-btn store-btn variant-4" data-view="stores">Stores</button>
          <button class="big-btn store-btn variant-2" data-view="storeView">Store table</button>
        </div>

        <div class="dashboard-right">
          <h3>Todayâ€™s overview (<span id="dashboardStoreLabel">All</span>)</h3>
          <div class="store-buttons">
            <button class="store-btn variant-3" id="todayInboundBtn">Inbound today</button>
            <button class="store-btn variant-2" id="todayOutboundBtn">Outbound today</button>
            <button class="store-btn variant-5" id="todaySalesBtn">Sales today</button>
            <button class="store-btn variant-1" id="stockAlertsBtn">Low stock alerts</button>
            <button class="store-btn variant-4" id="profitAnalysisBtn">Profit & analysis</button>
          </div>
        </div>
      </section>

      <!-- USER MANAGEMENT VIEW -->
      <section id="view-users" class="view">
        <h2>User management</h2>

        <div class="controls-row">
          <div class="small-panel">
            <h3>Add / edit user</h3>
            <label>
              Name
              <input type="text" id="userNameInput">
            </label>
            <label>
              Role
              <select id="userRoleInput">
                <option value="admin">Admin</option>
                <option value="staff">Staff</option>
              </select>
            </label>
            <label>
              Store permission
              <input type="text" id="userStoreInput" placeholder="Store code or name">
            </label>
            <button id="saveUserBtn">Save user</button>
          </div>

          <div class="small-panel" style="flex:2">
            <h3>User permissions</h3>
            <table class="table" id="userPermissionsTable">
              <thead>
                <tr>
                  <th>User</th>
                  <th>Inbound</th>
                  <th>Outbound</th>
                  <th>Sell</th>
                  <th>Transfer</th>
                  <th>Print</th>
                  <th>Profit</th>
                  <th>Users</th>
                  <th>Stores</th>
                </tr>
              </thead>
              <tbody>
                <!-- Filled by JS -->
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- STORE MANAGEMENT VIEW -->
      <section id="view-stores" class="view">
        <h2>Store management</h2>
        <div class="store-controls">
          <label>
            Store name
            <input type="text" id="storeNameInput">
          </label>
          <label>
            Store code
            <input type="text" id="storeCodeInput">
          </label>
          <label>
            Type
            <select id="storeTypeInput">
              <option value="warehouse">Warehouse</option>
              <option value="frontShop">Front shop</option>
              <option value="branch">Branch</option>
              <option value="store">Store</option>
            </select>
          </label>
          <div class="row">
            <button id="saveStoreBtn">Save store</button>
            <button id="clearStoreBtn">Clear</button>
          </div>
        </div>
        <div class="small-panel">
          <h3>Stores</h3>
          <div id="storeList" class="list">
            <!-- Filled by JS -->
          </div>
        </div>
      </section>

      <!-- INBOUND VIEW -->
      <section id="view-inbound" class="view">
        <h2>Inbound scanning</h2>
        <div class="inbound-panel">
          <label>
            Store
            <select id="inboundStoreSelect"></select>
          </label>
          <label>
            Location barcode (scan first)
            <input type="text" id="inboundLocationInput" placeholder="Scan location barcode">
          </label>
          <label>
            Scan / enter item barcode
            <input type="text" id="inboundBarcodeInput" placeholder="Scan item" disabled>
          </label>
          <label>
            Quantity
            <input type="number" id="inboundQtyInput" value="1" min="1">
          </label>
          <label>
            Price per unit
            <input type="number" id="inboundPriceInput" value="0" min="0" step="0.01">
          </label>
          <label>
            Notes
            <textarea id="inboundNotesInput" placeholder="Optional"></textarea>
          </label>
          <button id="addInboundBtn">Add inbound</button>
        </div>
        <div class="scan-summary">
          <h3>Inbound items (session)</h3>
          <table class="table" id="inboundTable">
            <thead>
              <tr>
                <th>Location</th>
                <th>Barcode</th>
                <th>Qty</th>
                <th>Price</th>
                <th>Store</th>
                <th>Time</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <!-- OUTBOUND VIEW -->
      <section id="view-outbound" class="view">
        <h2>Outbound</h2>

        <div class="outbound-tabs">
          <button class="mode-btn active" data-mode="sell">Sell to client</button>
          <button class="mode-btn" data-mode="transfer">Transfer to store</button>
        </div>

        <!-- Shared outbound scanning area -->
        <div class="outbound-panel">
          <label>
            From store
            <select id="outboundFromStoreSelect"></select>
          </label>

          <!-- PRICE ALWAYS FIRST -->
          <label>
            Price per unit
            <input type="number" id="outboundPriceInput" value="0" min="0" step="0.01">
          </label>

          <label id="outboundLocationLabel">
            Location barcode (scan first, required for warehouse)
            <input type="text" id="outboundLocationInput" placeholder="Scan location barcode">
          </label>

          <label>
            Scan / enter item barcode
            <input type="text" id="outboundBarcodeInput" disabled>
          </label>

          <label>
            Quantity
            <input type="number" id="outboundQtyInput" value="1" min="1">
          </label>

          <label id="outboundToStoreWrapper">
            Transfer to store
            <select id="outboundToStoreSelect"></select>
          </label>

          <label>
            Notes
            <textarea id="outboundNotesInput" placeholder="Optional"></textarea>
          </label>
          <button id="addOutboundBtn">Add outbound</button>
        </div>

        <!-- Client panel for sell mode -->
        <div class="small-panel" id="clientPanel">
          <h3>Client information (sell)</h3>

          <label>
            Existing client
            <select id="clientSelect">
              <!-- Filled by JS -->
            </select>
          </label>

          <button id="addNewClientToggleBtn">Add new client</button>

          <div id="newClientForm" class="hidden" style="margin-top:8px">
            <label>
              Client name
              <input type="text" id="clientNameInput">
            </label>
            <label>
              Town
              <input type="text" id="clientTownInput">
            </label>
            <label>
              Telephone
              <input type="text" id="clientPhoneInput">
            </label>
            <button id="saveClientBtn">Save client</button>
          </div>
        </div>

        <div class="scan-summary">
          <h3>Outbound items (session)</h3>
          <table class="table" id="outboundTable">
            <thead>
              <tr>
                <th>Mode</th>
                <th>Client / Store</th>
                <th>Location</th>
                <th>Barcode</th>
                <th>Qty</th>
                <th>Price</th>
                <th>From</th>
                <th>To</th>
                <th>Time</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <!-- SELL & RECEIPT VIEW -->
      <section id="view-sell" class="view">
        <h2>Sell & receipt</h2>

        <div class="sell-controls">
          <div class="row">
            <label>
              Selling from store
              <select id="sellStoreSelect"></select>
            </label>
            <button id="sellAddStoreBtn">Add store</button>
          </div>

          <div class="row" id="sellWarehouseLocationRow">
            <label>
              Location barcode (required for warehouse)
              <input type="text" id="sellLocationInput" placeholder="Scan location">
            </label>
          </div>

          <div class="row">
            <label>
              Scan / enter barcode
              <input type="text" id="sellBarcodeInput" disabled>
            </label>
            <label>
              Qty
              <input type="number" id="sellQtyInput" value="1" min="1">
            </label>
            <label>
              Price per unit
              <input type="number" id="sellPriceInput" value="0" min="0" step="0.01">
            </label>
            <button id="addSellItemBtn">Add item</button>
          </div>
        </div>

        <div class="receipt">
          <h3>Current sale</h3>
          <table class="table" id="sellTable">
            <thead>
              <tr>
                <th>Barcode</th>
                <th>Qty</th>
                <th>Price</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <div class="row" style="margin-top:8px">
            <div><strong>Subtotal:</strong> <span id="sellSubtotal">0.00</span></div>
            <div><strong>Tax:</strong> <span id="sellTax">0.00</span></div>
            <div><strong>Grand total:</strong> <span id="sellTotal">0.00</span></div>
          </div>
          <div class="row" style="margin-top:8px">
            <button id="completeSaleBtn" class="store-btn variant-3">Complete sale</button>
            <button id="cancelSaleBtn" class="danger">Cancel</button>
          </div>
        </div>
      </section>

      <!-- RECEIPT VIEW -->
      <section id="view-receipt" class="view">
        <h2>Receipt & print</h2>
        <div id="receiptPrintArea">
          <h3>Tikure Store Receipt</h3>
          <div id="receiptMeta">
            <!-- filled by JS -->
          </div>
          <table class="table" id="receiptTable">
            <thead>
              <tr>
                <th>Item</th>
                <th>Qty</th>
                <th>Price</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <div id="receiptTotals" style="margin-top:8px">
            <!-- totals filled by JS -->
          </div>
        </div>
      </section>

      <!-- STORE TABLE VIEW -->
      <section id="view-storeView" class="view">
        <h2>Store table</h2>
        <div class="store-main-grid">
          <div class="store-table-panel">
            <table class="table" id="storeTable">
              <thead>
                <tr>
                  <th>Store</th>
                  <th>Barcode</th>
                  <th>Name</th>
                  <th>Stock</th>
                  <th>Last move</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
          <div class="store-details-panel">
            <h3>Item details</h3>
            <div class="details-view" id="itemDetailsView">
              <div><strong>Barcode:</strong> <span id="detailBarcode"></span></div>
              <div><strong>Name:</strong> <span id="detailName"></span></div>
              <div><strong>Store:</strong> <span id="detailStore"></span></div>
              <div><strong>Stock:</strong> <span id="detailStock"></span></div>
              <div><strong>Last inbound:</strong> <span id="detailLastInbound"></span></div>
              <div><strong>Last outbound:</strong> <span id="detailLastOutbound"></span></div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>
